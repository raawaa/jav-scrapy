# ğŸ¬ jav-scrapy

ä¸€ä¸ªå¯ä»¥çˆ¬å– AV ç£åŠ›é“¾æ¥æˆ–å½±ç‰‡å°é¢çš„å°çˆ¬è™«ã€‚

## âœ¨ ç‰¹æ€§

- **çµæ´»çš„æŠ“å–åŠŸèƒ½**: æ”¯æŒæŠ“å–ç£åŠ›é“¾æ¥ã€å½±ç‰‡ä¿¡æ¯å’Œå°é¢å›¾ç‰‡ã€‚
- **æ™ºèƒ½çš„é˜²å±è”½åœ°å€ç®¡ç†**: é€šè¿‡ `update` å‘½ä»¤è‡ªåŠ¨æ£€æµ‹å¹¶ä¿å­˜é˜²å±è”½åœ°å€ï¼Œ`crawl` å‘½ä»¤ä¼˜å…ˆä½¿ç”¨æœ¬åœ°åœ°å€ï¼Œä¹Ÿå¯æ‰‹åŠ¨æŒ‡å®šã€‚
- **è‡ªåŠ¨ä»£ç†æ”¯æŒ**: è‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨ç³»ç»Ÿä»£ç†è®¾ç½®ã€‚
- **æ–‡ä»¶åè‡ªåŠ¨ç®€åŒ–**: æ™ºèƒ½å¤„ç†è¿‡é•¿æˆ–å«éæ³•å­—ç¬¦çš„æ–‡ä»¶åï¼Œç¡®ä¿å›¾ç‰‡ä¿å­˜æˆåŠŸã€‚
- **å¹¶å‘æ§åˆ¶**: å¯è‡ªå®šä¹‰æŠ“å–å¹¶å‘æ•°ï¼Œæé«˜æ•ˆç‡ã€‚
- **å¤šç§ç­›é€‰æ–¹å¼**: æ”¯æŒæŒ‰å…³é”®è¯æœç´¢ã€æŒ‰ç£é“¾å­˜åœ¨ä¸å¦ç­›é€‰å½±ç‰‡ã€‚

## âš™ï¸ ç³»ç»Ÿè¦æ±‚

åœ¨å®‰è£…ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£…ä»¥ä¸‹åŸºç¡€è½¯ä»¶ï¼š

- **Node.js** (ç‰ˆæœ¬ 18 æˆ–æ›´é«˜ï¼Œæ¨èä½¿ç”¨æœ€æ–°çš„LTSç‰ˆæœ¬è¿›è¡Œå¼€å‘) - [ä¸‹è½½åœ°å€](https://nodejs.org/)
  - å¼€å‘ç¯å¢ƒï¼šæ¨èä½¿ç”¨ Node.js 20+ ä»¥è·å¾—æœ€ä½³æ€§èƒ½å’Œæ–°ç‰¹æ€§æ”¯æŒ
  - äºŒè¿›åˆ¶æ„å»ºï¼šä½¿ç”¨ Node.js 18 ç›®æ ‡ä»¥ç¡®ä¿æœ€å¤§å…¼å®¹æ€§
- **Git** - [ä¸‹è½½åœ°å€](https://git-scm.com/)

> **æ³¨æ„**: æœ¬é¡¹ç›®æ‰€æœ‰å¼€å‘å·¥å…·éƒ½ä½œä¸ºæœ¬åœ°ä¾èµ–åŒ…ç®¡ç†ï¼Œæ— éœ€å®‰è£…ä»»ä½•å…¨å±€ npm åŒ…ï¼Œé¿å…æ±¡æŸ“æ‚¨çš„ç³»ç»Ÿç¯å¢ƒã€‚

## âš™ï¸ å®‰è£…

### ğŸš€ ä¸€è¡Œå‘½ä»¤å®‰è£…

æ— éœ€ä»»ä½•ç¯å¢ƒé…ç½®ï¼Œä¸€è¡Œå‘½ä»¤å®Œæˆä¸‹è½½ã€å®‰è£…å’Œé…ç½®ï¼š

**Linux/macOSï¼š**
```bash
curl -sSL https://raw.githubusercontent.com/raawaa/jav-scrapy/master/install.sh | bash
```

**Windows PowerShellï¼š**
```bash
iwr -useb https://raw.githubusercontent.com/raawaa/jav-scrapy/master/install.ps1 | iex
```

å®‰è£…å®Œæˆåï¼Œç›´æ¥ä½¿ç”¨ï¼š
```bash
jav --help
```

### ğŸ“‹ å¸è½½æ–¹æ³•

å®‰è£…å®Œæˆåï¼Œä¼šè‡ªåŠ¨åˆ›å»ºå¸è½½è„šæœ¬ï¼š

**Linux/macOSï¼š**
```bash
/usr/local/bin/jav-scrapy-uninstall
# æˆ–
~/.local/bin/jav-scrapy-uninstall
```

**Windowsï¼š**
```cmd
%LOCALAPPDATA%\jav-scrapy\uninstall.bat
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

**é»˜è®¤å‘½ä»¤**: ç›´æ¥è¿è¡Œ `jav` ç­‰åŒäºè¿è¡Œ `jav crawl` å‘½ä»¤ã€‚

### ğŸŒ é˜²å±è”½åœ°å€ç®¡ç† (`jav update`)

å»ºè®®é¦–æ¬¡ä½¿ç”¨æˆ–å®šæœŸè¿è¡Œæ­¤å‘½ä»¤æ¥æ›´æ–°é˜²å±è”½åœ°å€åˆ—è¡¨ã€‚ç¨‹åºä¼šå°è¯•æ£€æµ‹æœ€æ–°çš„å¯ç”¨åœ°å€ï¼Œå¹¶è¿½åŠ ä¿å­˜åˆ° `~/.jav-scrapy-antiblock-urls.json` æ–‡ä»¶ä¸­ã€‚

```bash
$ jav update
```

`crawl` å‘½ä»¤åœ¨æœªæŒ‡å®š `-b` å‚æ•°æ—¶ï¼Œä¼šä¼˜å…ˆä½¿ç”¨ `~/.jav-scrapy-antiblock-urls.json` æ–‡ä»¶ä¸­çš„åœ°å€ã€‚

### ğŸ¬ å¯åŠ¨æŠ“å–ä»»åŠ¡ (`jav crawl` æˆ– `jav`)

è¿è¡ŒæŠ“å–ä»»åŠ¡ã€‚å¯ä»¥æ ¹æ®éœ€æ±‚ä½¿ç”¨ä¸åŒçš„é€‰é¡¹ã€‚

```bash
$ jav crawl [options]
# æˆ–è€…ç®€å†™ä¸º
$ jav [options]
```

**å¸¸ç”¨ç¤ºä¾‹**: 

- **åŸºæœ¬æŠ“å–ï¼ˆé»˜è®¤è®¾ç½®ï¼‰**:
```bash
$ jav
```
ï¼ˆè¿™ä¼šä½¿ç”¨æœ¬åœ°é˜²å±è”½åœ°å€æˆ–é»˜è®¤åœ°å€ï¼ŒæŠ“å–å…¨éƒ¨ç£åŠ›é“¾æ¥å’Œå°é¢åˆ°å½“å‰ç›®å½•ï¼‰

- **æŠ“å–æŒ‡å®šæ•°é‡çš„å½±ç‰‡å¹¶æŒ‡å®šè¾“å‡ºç›®å½•å’Œå¹¶å‘æ•°**:
```bash
$ jav -l 10 -o ~/downloads/magnets -p 5
```

- **æœç´¢å¹¶æŠ“å–ç‰¹å®šå…³é”®è¯çš„å½±ç‰‡**:
```bash
$ jav -s "å½±ç‰‡å…³é”®è¯"
```

- **ä½¿ç”¨æŒ‡å®šçš„ä»£ç†æœåŠ¡å™¨**:
```bash
$ jav -x http://127.0.0.1:8087
```

- **è®¾ç½®è¯·æ±‚é—´éš”æ—¶é—´**:
```bash
$ jav -d 3
```

- **æ‰‹åŠ¨è®¾ç½®Cookies**:
```bash
$ jav -c "session_id=abc123; token=def456"
```

- **å¯ç”¨Cloudflareç»•è¿‡åŠŸèƒ½**:
```bash
$ jav --cloudflare
```

- **åªæŠ“å–ç£åŠ›é“¾æ¥ï¼Œä¸ä¸‹è½½å›¾ç‰‡**:
```bash
$ jav -N
```

- **æŒ‡å®šæŠ“å–çš„èµ·å§‹é¡µURL**:
```bash
$ jav -b https://www.your-preferred-jav-site.com/
```

- **ç»„åˆå¤šä¸ªé€‰é¡¹**:
```bash
$ jav -l 5 -p 3 -d 2 -o /path/to/output -s "å…³é”®è¯" --cloudflare
```

## âŒ¨ï¸ å‘½ä»¤è¡Œé€‰é¡¹è¯´æ˜

| é€‰é¡¹                 | è¯´æ˜                                                                 |
| ---------------------- | -------------------------------------------------------------------- |
| -p, --parallel<num>  | è®¾ç½®æŠ“å–å¹¶å‘è¿æ¥æ•°ï¼ˆé»˜è®¤ï¼š2ï¼‰                                            |
| -t, --timeout<num>   | è®¾ç½®è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ï¼š30000ï¼‰                                |
| -o, --output<path>   | è®¾ç½®ç£é“¾å’Œå°é¢æŠ“å–ç»“æœçš„ä¿å­˜ä½ç½®ï¼ˆé»˜è®¤ä¸ºå½“å‰å·¥ä½œç›®å½•ï¼‰                    |
| -s, --search<string> | æœç´¢å…³é”®è¯ï¼Œå¯åªæŠ“å–æœç´¢ç»“æœçš„ç£é“¾æˆ–å°é¢                               |
| -b, --base<url>      | è‡ªå®šä¹‰æŠ“å–çš„èµ·å§‹é¡µURLã€‚æŒ‡å®šæ­¤é€‰é¡¹å°†è¦†ç›–æœ¬åœ°ä¿å­˜çš„é˜²å±è”½åœ°å€ã€‚           |
| -x, --proxy<url>     | ä½¿ç”¨ä»£ç†æœåŠ¡å™¨ï¼ˆä¾‹ï¼š-x http://127.0.0.1:8087ï¼‰ã€‚å¦‚æœæ£€æµ‹åˆ°ç³»ç»Ÿä»£ç†ï¼Œæ­¤é€‰é¡¹ä¼šè¦†ç›–ç³»ç»Ÿä»£ç†è®¾ç½®ã€‚       |
| -l, --limit<num>     | è®¾ç½®æŠ“å–å½±ç‰‡çš„æ•°é‡ä¸Šé™ï¼Œ0ä¸ºæŠ“å–å…¨éƒ¨å½±ç‰‡ï¼ˆé»˜è®¤ï¼š0ï¼‰                    |
| -d, --delay<num>     | è®¾ç½®è¯·æ±‚é—´éš”æ—¶é—´ï¼ˆç§’ï¼Œé»˜è®¤ï¼š2ç§’ï¼‰                                      |
| -n, --nomag          | æ˜¯å¦æŠ“å–å°šæ— ç£é“¾çš„å½±ç‰‡ï¼ˆé»˜è®¤ï¼šä¸æŠ“å–ï¼‰                               |
| -a, --allmag         | æ˜¯å¦æŠ“å–å½±ç‰‡çš„æ‰€æœ‰ç£é“¾ï¼ˆé»˜è®¤åªæŠ“å–æ–‡ä»¶ä½“ç§¯æœ€å¤§çš„ç£é“¾ï¼‰               |
| -N, --nopic          | ä¸æŠ“å–å›¾ç‰‡                                                           |
| -c, --cookies<string> | æ‰‹åŠ¨è®¾ç½®Cookiesï¼ˆæ ¼å¼ï¼š"key1=value1; key2=value2"ï¼‰                 |
| --cloudflare         | å¯ç”¨ Cloudflare ç»•è¿‡åŠŸèƒ½                                            |


## ğŸ“Œ æ³¨æ„äº‹é¡¹ (Notes)

- ç¨‹åºä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨ç³»ç»Ÿä»£ç†è®¾ç½®ã€‚
- æŠ“å–å›¾ç‰‡æ—¶ï¼Œå¦‚æœæ–‡ä»¶åè¿‡é•¿æˆ–åŒ…å«éæ³•å­—ç¬¦ï¼Œç¨‹åºä¼šå°è¯•è‡ªåŠ¨ç®€åŒ–æ–‡ä»¶åè¿›è¡Œä¿å­˜ã€‚
- `jav update` å‘½ä»¤ä¼šå°†æ£€æµ‹åˆ°çš„é˜²å±è”½åœ°å€è¿½åŠ ä¿å­˜åˆ° `~/.jav-scrapy-antiblock-urls.json` æ–‡ä»¶ä¸­ã€‚


## ğŸ‘¥ è´¡çŒ®è€… (Contributors)

- [@qiusli](https://github.com/qiusli)
- [@Eddie104](https://github.com/Eddie104)
- [@leongfeng](https://github.com/leongfeng)
